/* patID:1051 pop sequences *//* starting time: 2016-7-16 *//* AC time 2016-7-16 23:55 *//* Running for PAT! *//* what if the stack is empty, that's a crucial problem consider.. */#include<iostream>#include<stack>#include<vector>#include<queue>using namespace std;int main(){	//freopen("D:\\in.txt","r",stdin);	int M,N,K;	bool flag;	int temp;	scanf("%d%d%d",&M,&N,&K);	M++;	while(K--)	{		stack<int> sta;		queue<int> que;		flag=true;		int pos;		for(int i=0;i<N;i++)		{			scanf("%d",&temp);			que.push(temp);		}		sta.push(0);	    for(pos=1;pos<=que.front();pos++){		   sta.push(pos);           if(sta.size()>M)		   {			   flag=false;			   break;		   }   	    }		que.pop();		sta.pop();		while(!que.empty()&&flag){			if(que.front()<sta.top()){					flag=false;					break;			} 				while(que.front()>sta.top()){				sta.push(pos);				pos++;				if(sta.size()>M){					flag=false;					break;				}				}			if(!flag) break;			sta.pop();			que.pop();		} 		if(flag) printf("YES\n");		else printf("NO\n");   }}