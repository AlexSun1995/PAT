/* 1088. Rational Arithmetic (20) *//* starting at 2016-8-23 15:51 Pm *//* first submit 17/20 3 points wrong answer *//* version 1 self*/#include<iostream>#include<cmath>#include<string>using namespace std;long long gcd(long long x,long long y){	long long a,b;	a=max(x,y);	b=min(x,y);	long long r;      while(b!=0){          r=a%b;          a=b;          b=r;      }      return a;}/* transform a rational number to its simplest form */void transform(long long a,long long b){	long long x,y;	long long f,s,t;	bool Isnega=false;	x=a;	y=b;	if(x*y<0){		Isnega=true;		if(x<0){			x=0-x;		}        else if(y<0)        {			y=0-y;		}		 	}	else if(x*y>0){		Isnega=false;		if(x<0&&y<0){			x=0-x;			y=0-y;		}	}    if(y==0){		printf("Inf");		return;	}	if(x!=0){	 long long x1,y1;	 x1=x;	 y1=y;	 x=x/gcd(x1,y1);	 y=y/gcd(x1,y1);	}	f=x/y;	s=x-f*y;	s==0?t=0:t=y;		if(Isnega) printf("(-");	if(f!=0&&s!=0) printf("%lld %lld/%lld",f,s,t);	else if(f==0&&s!=0) printf("%lld/%lld",s,t);	else printf("%lld",f);	if(Isnega) printf(")");}int main(){	long long a1,b1,a2,b2;	scanf("%lld/%lld %lld/%lld",&a1,&b1,&a2,&b2);	transform(a1,b1);	printf(" + "); 	transform(a2,b2);	printf(" = ");    transform(a1*b2+a2*b1,b1*b2);	printf("\n");	transform(a1,b1);	printf(" - ");	transform(a2,b2);	printf(" = ");    transform(a1*b2-a2*b1,b1*b2);    printf("\n");	transform(a1,b1);	printf(" * ");	transform(a2,b2);	printf(" = ");    transform(a1*a2,b1*b2);	printf("\n");	transform(a1,b1);	printf(" / ");	transform(a2,b2);	printf(" = ");    transform(a1*b2,b1*a2);	printf("\n");	return 0;}/* from ZJU rabbit CSDN *//* ************************** *//*2015.7.25cyq*/  #include <iostream>  #include <string>  #include <sstream>  using namespace std;    long long gcd(long long a,long long b){      long long r;      while(b!=0){          r=a%b;          a=b;          b=r;      }      return a;  }    string f(long long a,long long b){//保证b!=0      if(a==0)          return "0";      stringstream ss;      string s;      int flag=1;      if(a<0){          flag=-1;          a=-a;          ss<<"(-";      }      long long tmp=gcd(a,b);      a=a/tmp;      b=b/tmp;      if(a%b==0){//只有整数部分          ss<<a/b;      }else if(a/b>0){//整数部分加分数          ss<<a/b<<" ";          ss<<a%b<<"/"<<b;      }else{//只有分数部分          ss<<a<<"/"<<b;      }      if(flag==-1)          ss<<")";      getline(ss,s);//由于ss可能有空格，用getline      return s;  }  int main(){      long a1,b1,a2,b2;      scanf("%ld/%ld %ld/%ld",&a1,&b1,&a2,&b2);      long long sum1,sum2,sub1,sub2,mul1,mul2,div1,div2;      sum1=a1*b2+a2*b1;      sum2=b1*b2;      sub1=a1*b2-a2*b1;      sub2=b1*b2;      mul1=a1*a2;      mul2=b1*b2;      string s1=f(a1,b1);      string s2=f(a2,b2);      cout<<s1<<" + "<<s2<<" = "<<f(sum1,sum2)<<endl;      cout<<s1<<" - "<<s2<<" = "<<f(sub1,sub2)<<endl;      cout<<s1<<" * "<<s2<<" = "<<f(mul1,mul2)<<endl;      cout<<s1<<" / "<<s2<<" = ";      if(a2==0){          cout<<"Inf";      }else{          div1=a1*b2;          div2=b1*a2;          if((div1<0&&div2<0)||(div1>0&&div2<0)){              div1=-div1;              div2=-div2;          }          cout<<f(div1,div2);      }      return 0;  }  